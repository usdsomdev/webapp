<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="simple-grid.min.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
  	<script src="https://telegram.org/js/telegram-web-app.js"></script>
	<meta charset="utf-8">
	<style type="text/css">
* {
    color: #606060;
}
body {
    font-size: 11pt;
}
.editable-number {
    font-size: 40pt;
    display: inline-block;
    max-width: 100%;
    text-align: center;
    border: none;
    line-height: 75px;
    margin: 0 5px;
}
span.editable-number:focus-visible {
    outline: none;
}
input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button { 
  -webkit-appearance: none; 
  margin: 0; 
}
.calculated-sum {
    color: #CFD6DD;
    font-size: 0.8em;
    margin-top: -20px;
    display: block;
}
.btn {
    background: #5EA7DE;
    border-radius: 40px;
    color: white;
    text-align: center;
    padding: 4px 26px;
}
.label {
    display: block;
    color: #A3ABB3;
    font-size: 0.85em;
    margin-top: 10px
}
.radio-buttons {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  white-space: nowrap;
  direction: rtl;
}
.currencies-wrapper::-webkit-scrollbar, .radio-buttons::-webkit-scrollbar { 
    display: none;  /* Safari and Chrome */
}
.radio-buttons li {
  margin: 0 5px 0 0;
  height: 40px;
  display: inline-block;
  /*position: relative;*/
}
.radio-buttons.currencies {
    list-style-type: none;
    margin: 0;
    padding: 0;
    display: inline-block;
    height: 45px;
    width: 95px;
}
.currencies li {
    display: block;
    float: left;
}
.radio-buttons label,
.radio-buttons input {
  display: block;
}
.radio-buttons input[type="radio"] {
    opacity: 0.01;
    z-index: 100;
    height: 1px;
    margin: 0;
}
.radio-buttons input[type="radio"]:checked+label,
.Checked+label {
  background: #5EA7DE;
  color: white;
}
.radio-buttons label {
  border-radius: 40px;
  cursor: pointer;
  z-index: 90;
  background: #DDD;
  color: #ACACAC;
  padding: 5px 30px;
}
.radio-buttons.currencies label {
  padding: 5px 15px;
}
span.label.sum {
    text-align: center;
}
.row.center {
    text-align: center;
}
.currencies-wrapper {
    width: 79px;
    overflow-x: scroll;
    display: inline-block;
    position: absolute;
    margin-top: 20px;
    /*-webkit-mask-image: linear-gradient(90deg, #000 60%, transparent);*/
}
.cities {
    /*-webkit-mask-image: linear-gradient(-90deg, transparent, #000, transparent);*/
}
.spinner button {
    background: #5ea7de;
    color: white;
    border: none;
    border-radius: 40px;
    font-size: 1em;
    height: 40px;
    width: 40px;
}
.spinner {
    display: inline-block;
}
	</style>
  <script type="text/javascript">
    function incrementValue() {
        var value = parseFloat(document.getElementById('course').innerHTML, 10);
        value = isNaN(value) ? 0 : value;
        value += 1;
        document.getElementById('course').innerHTML = value;
    }
    function decrementValue() {
        var value = parseFloat(document.getElementById('course').innerHTML, 10);
        value = isNaN(value) ? 0 : value;
        value -= 1;
        document.getElementById('course').innerHTML = value;
    }
  </script>
</head>
<body>

    <div class="container">
	    <form id="exchange">
      <div class="row center">
        <div class="col-4">
        	<span class="label sum">Сумма</span>
          <span role="textbox" inputmode="numeric" contenteditable class="editable-number" id="sum">10 000</span>
		<textarea id="sum-textarea" style="display:none" name="sum"></textarea>
          <div class="currencies-wrapper">
            <ul class="currencies radio-buttons">
              <li>
                <input type="radio" id="dollar" name="currency" checked="checked" value="usd"/>
                <label for="dollar">$</label>
              </li>
              <li>
                <input type="radio" id="rouble" name="currency" value="rouble"/>
                <label for="rouble">₽</label>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="row center">
        <div class="col-12">
        	<span class="calculated-sum">85 500 сом</span>
        </div>
      </div>
      <div class="row center">
        <div class="col-12">
    			<ul class="buy-sell-btns radio-buttons">
            <li>
              <input type="radio" id="sell" name="buy-sell" value="sell"/>
              <label for="sell">Продать</label>
            </li>
    			  <li>
    			    <input type="radio" id="buy" name="buy-sell" checked="checked" value="buy" />
    			    <label for="buy">Купить</label>
    			  </li>
    		  </ul>
        </div>
      </div>
      <div class="row center">
        <div class="col-4">
          <span class="label">Курс</span>
              <div class="spinner">
                <button onclick="decrementValue()">-</button>
              </div>
              <span role="textbox" inputmode="decimal" contenteditable class="editable-number" id="course">83.5</span>
		<textarea id="course-textarea" style="display:none" name="course"></textarea>
              <div class="spinner">
                <button onclick="incrementValue()">+</button>
              </div>

        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <span class="label">Место</span>
    			<ul class="cities radio-buttons">
            <li>
              <input type="radio" id="a50" name="geo" />
              <label for="a50">Ош</label>
            </li>
    			  <li>
    			    <input type="radio" id="a25" name="geo" checked="checked" value="bishkek"/>
    			    <label for="a25">Бишкек</label>
    			  </li>
    			  <li>
    			    <input type="radio" id="a75" name="geo" value="jalal-abad"/>
    			    <label for="a75">Жалал-Абад</label>
    			  </li>
    			  <li>
    			    <input type="radio" id="a100" name="geo" value="karakol"/>
    			    <label for="a100">Каракол</label>
    			  </li>
    			  <li>
    			    <input type="radio" id="a110" name="geo" value="tokmok"/>
    			    <label for="a110">Токмок</label>
    			  </li>
    			</ul>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <span class="label">Способ расчета</span>
          <ul class="methods radio-buttons">
            <li>
              <input type="radio" id="cash" name="methods" checked="checked" value="cash"/>
              <label for="cash">Наличные</label>
            </li>
            <li>
              <input type="radio" id="card" name="methods" value="card"/>
              <label for="card">Карта</label>
            </li>
            <li>
              <input type="radio" id="transfer" name="methods" value="transfer"/>
              <label for="transfer">Перевод</label>
            </li>
          </ul>
        </div>
      </div>
      </div>
    </div>
	<div id="demo"></div>
	</form>
<script>
	
	var x = document.getElementById("demo");
function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else {
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
  x.innerHTML = "Latitude: " + position.coords.latitude +
  "<br>Longitude: " + position.coords.longitude;
}
	getLocation()
var webApp = window.Telegram.WebApp
var mainBut = webApp.MainButton
mainBut.text = "Создать объявление"
mainBut.isVisible = true
mainBut.isActive = true
mainBut.show()
mainBut.enable()

mainBut.onClick(function(e) {
document.getElementById("sum-textarea").value = document.getElementById("sum").innerHTML;
document.getElementById("course-textarea").value = document.getElementById("course").innerHTML;
myFormData = new FormData(document.getElementById("exchange"));
data = JSON.stringify(Object.fromEntries(myFormData));
webApp.sendData(data); 
});


	</script>
</body>
</html>


