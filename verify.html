<html>
  <head>
    <title>Captcha</title>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      let tg = window.Telegram.WebApp;
      tg.MainButton.hide()
      var onloadCallback = function() {
        grecaptcha.render('html_element', {
          'sitekey' : '6LdnKVYhAAAAAHldTfxQJvBhzdltmUfJFXedMcxm',
          'callback' : correctCaptcha
        });
      };
      var correctCaptcha = function(response) {
        console.log(response);
        tg.MainButton.show()
        ok();
      };
window.addEventListener('load', function() {
    console.log('All assets are loaded')
  onloadCallback();
})
      
              function ok(){
            tg.sendData(JSON.stringify({"hello": "world"}));
        }
        tg.MainButton.onClick(function(e) {ok()});
      
    </script>
    <style>
    
    
#html_element {
  width: 300px;
  margin: 50px auto;
}
    </style>
    
  </head>
  <body>
      <div id='html_element'></div>
  </body>
</html>
